pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
function _init()
 cls()
 music(0)
 stuck_puyos = {}
 for i = 1,6 do
  stuck_puyos[i]={}
  for j = 1,14 do
  	stuck_puyos[i][j]=0
  end
 end
end


function _update60()
	move_down()
end


function _draw()
 cls()
 map(0,0,8,8)
	spr(
		puyo_a.sprite,
		puyo_a.x,
		puyo_a.y)
 for i = 1,6 do
  for j = 1,14 do
  	sprite=stuck_puyos[i][j]
  	if sprite ~= 0
  	then spr(sprite,i*8,j*8)
  	end
  end
 end 
end


function move_down()
 if puyo_a.y < 112
 then 
  puyo_a.y += 0.1
	 control()
	else
	 stuck_puyos[puyo_a.x/8]
	 [puyo_a.y/8]=puyo_a.sprite
	 puyo_a.y=16
  sfx(0)
 end
end

function	control()
	if btnp(1)
		then puyo_a.x += 8
	end
	if btnp(0)
		then puyo_a.x -= 8
	end
	if btn(3)
		then puyo_a.y += 3
			if puyo_a.y > 112
			 then puyo_a.y = 112
			end
	end
end


puyo_a = {
 sprite=64,
 x=24,
 y=16
}


__gfx__
11111111555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
58555585000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55855855000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55588555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55588555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55855855000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
58555585000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00eeee0000cccc000077770000aaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0e8888800cbbbbb007ccccc00a999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
e8888888cbbbbbbb7ccccccca9999999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
85888858bb2bb2bbcc6cc6cc99999999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88588588b25bb52bcc7cc7cc94499449000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88888884bbbbbbb3ccccccc199999994000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
088888400bbbbb300ccccc1009999940000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00444400003333000011110000444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001020408000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101100101010000000101100101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010000000101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010000000101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010000000101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010000000101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010000000101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010000000101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010000000101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010000000101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010000000101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010000000101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010000000101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100001c7501a7401873015720117200d7100971004400014000040023400244002440025400264002740027400284002840028400284001f4001f4001f4001f4002030007300003001d3001d3001d3001d300
000c20010b1500b1300b100001000b1500b130121001a10012150121301a1001a1001a1501a1401a1401a1301a1301a1301a1201a1201a1201a1201a1201a1101714017140171401714017140171301713017130
0010000000650000003a610000003a610000003961002600216400000038610000003761000000366100000000650000003761000000376100000037610000002364000000376100000037610000003761000000
__music__
04 41424344
00 41424344
00 41424344
00 01424344
04 01424344

